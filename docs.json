{
  "api": {
    "name": "Fallen API",
    "version": "3.0",
    "base_url": "https://beta.fallenapi.fun",
    "endpoints": [
      {
        "path": "/search",
        "method": "GET",
        "description": "Search for tracks across supported platforms (Spotify)",
        "params":{
          "query": {
            "type": "string",
            "required": true,
            "example": "mood",
            "description": "Search keyword (track name, artist, etc.)"
          },
          "limit": {
            "type": "integer",
            "required": false,
            "default": 5,
            "example": 2,
            "description": "Max number of results to return"
          }
        },
        "response": {
          "success": {
            "status_code": 200,
            "example": {
              "results": [
                {
                  "name": "Mood - Lofi",
                  "artist": "Yagih Mael",
                  "id": "6v8mSl4GZXok3Ebe9x4Jmr",
                  "year": "2021",
                  "cover": "https://i.scdn.co/image/ab67616d0000b273f435c670eebf670491209a0e",
                  "duration": 162,
                  "url": "https://open.spotify.com/track/6v8mSl4GZXok3Ebe9x4Jmr",
                  "platform": "spotify"
                }
              ]
            }
          },
          "errors": [
            { "status_code": 400, "message": "Missing required parameter 'query'" },
            { "status_code": 500, "message": "Internal server error" }
          ]
        }
      },
      {
        "path": "/track",
        "method": "GET",
        "description": "Fetch detailed metadata (with download link) for a given track URL (YouTube, Spotify, Apple Music, SoundCloud, etc.)",
        "params": {
          "url": {
            "type": "string",
            "required": true,
            "example": "https://youtu.be/2gXdWrxhGbA?si=86th7aUk9vNlVrSR",
            "description": "The track URL from YouTube/Spotify/other supported platforms"
          }
        },
        "response": {
          "success": {
            "status_code": 200,
            "example": {
              "cdnurl": "https://cdn......mp4",
              "key": "",
              "name": "Black Clover : Spade Arc - Final Arc â€” Opening",
              "artist": "UmGab",
              "tc": "2gXdWrxhGbA",
              "cover": "https://i.ytimg.com/vi/2gXdWrxhGbA/hqdefault.jpg",
              "album": "UmGab",
              "year": 2025,
              "duration": 4740,
              "lyrics": "",
              "url": "https://www.youtube.com/watch?v=2gXdWrxhGbA",
              "platform": "youtube"
            }
          },
          "errors": [
            { "status_code": 400, "message": "Missing required parameter 'url'" },
            { "status_code": 404, "message": "Track not found or unsupported URL" },
            { "status_code": 500, "message": "Internal server error" }
          ]
        }
      },
      {
        "path": "/get_url",
        "method": "GET",
        "description": "Resolve a direct track URL into its metadata (shortcut for platforms like Spotify/YouTube).",
        "params": {
          "url": {
            "type": "string",
            "required": true,
            "example": "https://open.spotify.com/track/6v8mSl4GZXok3Ebe9x4Jmr",
            "description": "The direct track URL to resolve"
          }
        },
        "response": {
          "success": {
            "status_code": 200,
            "example": {
              "results": [
                {
                  "name": "Mood - Lofi",
                  "artist": "Yagih Mael",
                  "id": "6v8mSl4GZXok3Ebe9x4Jmr",
                  "year": "2021",
                  "cover": "https://i.scdn.co/image/ab67616d0000b273f435c670eebf670491209a0e",
                  "duration": 162,
                  "url": "https://open.spotify.com/track/6v8mSl4GZXok3Ebe9x4Jmr",
                  "platform": "spotify"
                }
              ]
            }
          },
          "errors": [
            { "status_code": 400, "message": "Missing required parameter 'url'" },
            { "status_code": 404, "message": "Invalid or unsupported track URL" },
            { "status_code": 500, "message": "Internal server error" }
          ]
        }
      },
      {
        "path": "/snap",
        "method": "GET",
        "description": "Fetch downloadable media (videos/images) from Instagram, TikTok, Twitter, Twitch, Reddit, Threads, Facebook, Pinterest, etc.",
        "params": {
          "url": {
            "type": "string",
            "required": true,
            "example": "https://www.instagram.com/reel/DLMmFfpxHvR/?hl=en",
            "description": "URL of the media to fetch "
          }
        },
        "response": {
          "success": {
            "status_code": 200,
            "example": {
              "video": [
                {
                  "video": "https://scontent-lga3-2.cdninstagram.com/...mp4",
                  "thumbnail": "https://scontent-lga3-3.cdninstagram.com/...jpg"
                }
              ],
              "image": []
            }
          },
          "errors": [
            { "status_code": 400, "message": "Missing required parameter 'url'" },
            { "status_code": 404, "message": "Media not found or URL unsupported" },
            { "status_code": 500, "message": "Internal server error" }
          ]
        }
      },
      {
        "path": "/links",
        "method": "GET",
        "description": "Retrieve all available platform links for a given track (Songwhip-like feature).",
        "params": {
          "url": {
            "type": "string",
            "required": true,
            "example": "https://www.youtube.com/watch?v=1wq47tabJh0",
            "description": "The original track URL (YouTube/Spotify/etc.)"
          }
        },
        "response": {
          "success": {
            "status_code": 200,
            "example": [
              "https://music.youtube.com/watch?v=1wq47tabJh0",
              "https://geo.music.apple.com/sg/album/_/1674035499?i=1674035500&mt=1&app=music&ls=1",
              "https://open.spotify.com/track/6v8mSl4GZXok3Ebe9x4Jmr",
              "https://www.pandora.com/TR:44840062",
              "https://www.deezer.com/track/1916604657",
              "https://soundcloud.com/yagihmael/mood-lofi-1",
              "https://music.amazon.com/albums/B0BVG4XHSY?trackAsin=B0BVGBN2M4",
              "https://listen.tidal.com/track/276090838",
              "https://play.napster.com/track/tra.671577117",
              "https://amazon.com/dp/B0BVGBN2M4"
            ]
          },
          "errors": [
            { "status_code": 400, "message": "Missing required parameter 'url'" },
            { "status_code": 404, "message": "Links not found for given track" },
            { "status_code": 500, "message": "Internal server error" }
          ]
        }
      }
    ]
  }
}
